create database banco_everson;

create table empresa (
	emp_cnpj varchar(18) primary key not null,
	emp_nome varchar(30),
	emp_logradouro varchar(50),
	emp_bairro varchar(30),
	emp_cidade varchar(30),
	emp_estado varchar (2)
);

create table usuario (
	usu_email varchar(50) primary key not null,
	usu_nome varchar(50),
	usu_senha varchar(8)
);

create table usuario_empresa (
	emp_cnpj varchar(18) not null,
	usu_email varchar(50) not null,

        constraint pk_usuario_empresa primary key (emp_cnpj, usu_email),

        constraint fk_empresa_usuario foreign key (emp_cnpj)
			references usuario (usu_email),

        constraint fk_usuario_empresa foreign key (usu_email)
			references empresa (emp_cnpj)
);

create table cliente (
	cli_cpf varchar(14) primary key not null,
	cli_nome varchar(50),
    cli_email varchar(50)
);

create table cliente_empresa(
	emp_cnpj varchar(18) not null,
	cli_cpf varchar(14) not null,

        constraint pk_cliente_empresa primary key (emp_cnpj, cli_cpf),

        constraint fk_empresa_cliente foreign key (emp_cnpj)
			references cliente (cli_cpf),

        constraint fk_cliente_empresa foreign key (cli_cpf)
			references empresa (emp_cnpj)
)

